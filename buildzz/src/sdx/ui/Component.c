/** updated by adriac */
/* Component.c generated by valac 0.34.9, the Vala compiler
 * generated from Component.vala, do not modify */

/* ******************************************************************************
 * Copyright 2017 darkoverlordofdata.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/

#include <glib.h>
#include <glib-object.h>
#include <SDL2/SDL_video.h>
#include <SDL2/SDL_rect.h>
#include <SDL2/SDL_pixels.h>
#include <stdlib.h>
#include <string.h>
#include <SDL2/SDL_render.h>
#include <float.h>
#include <math.h>

typedef struct _SdxUiComponent SdxUiComponent;

#define SDX_UI_COMPONENT_TYPE_KIND (sdx_ui_component_kind_get_type ())
typedef struct _SdxFont SdxFont;
typedef struct _SdxGraphicsSprite SdxGraphicsSprite;
typedef struct _SdxInputProcessor SdxInputProcessor;
// symtbl.1 sdx_ui_component
void sdx_ui_component_release (SdxUiComponent* self);
void sdx_ui_component_free (SdxUiComponent* self);
SdxUiComponent* sdx_ui_component_retain (SdxUiComponent* self);
#define _sdx_ui_component_release0(var) ((var == NULL) ? NULL : (var = (sdx_ui_component_release (var), NULL)))
#define _SDL_DestroyWindow0(var) ((var == NULL) ? NULL : (var = (SDL_DestroyWindow (var), NULL)))
#define _g_free0(var) ((var == NULL) ? NULL : (var = (g_free (var), NULL)))
// symtbl.1 sdx_font
void sdx_font_release (SdxFont* self);
void sdx_font_free (SdxFont* self);
SdxFont* sdx_font_retain (SdxFont* self);
#define _sdx_font_release0(var) ((var == NULL) ? NULL : (var = (sdx_font_release (var), NULL)))
// symtbl.1 _g_list_free__sdx_ui_component
#define __g_list_free__sdx_ui_component_release0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__sdx_ui_component_release0_ (var), NULL)))
// symtbl.1 sdx_input_processor
void sdx_input_processor_release (SdxInputProcessor* self);
void sdx_input_processor_free (SdxInputProcessor* self);
SdxInputProcessor* sdx_input_processor_retain (SdxInputProcessor* self);
#define _sdx_input_processor_release0(var) ((var == NULL) ? NULL : (var = (sdx_input_processor_release (var), NULL)))
typedef SdxUiComponent SdxUiWindow;
typedef SdxUiComponent SdxUiButton;
typedef SdxUiButton SdxUiButtonText;
typedef SdxGraphicsSprite SdxGraphicsSpriteTextSprite;
// symtbl.1 sdx_graphics_sprite
void sdx_graphics_sprite_release (SdxGraphicsSprite* self);
void sdx_graphics_sprite_free (SdxGraphicsSprite* self);
SdxGraphicsSprite* sdx_graphics_sprite_retain (SdxGraphicsSprite* self);
#define _sdx_graphics_sprite_release0(var) ((var == NULL) ? NULL : (var = (sdx_graphics_sprite_release (var), NULL)))
typedef struct _Class Class;

#define SDX_GRAPHICS_SPRITE_TYPE_KIND (sdx_graphics_sprite_kind_get_type ())

#define SDX_MATH_TYPE_SCALE (sdx_math_scale_get_type ())
typedef struct _SdxMathScale SdxMathScale;
typedef SdxUiButton SdxUiButtonNinePatch;
typedef struct _SdxGraphicsTextureAtlas SdxGraphicsTextureAtlas;
typedef struct _SdxGraphicsNinePatch SdxGraphicsNinePatch;
typedef SdxGraphicsSprite SdxGraphicsSpriteUISprite;
// symtbl.1 sdx_graphics_nine_patch
void sdx_graphics_nine_patch_release (SdxGraphicsNinePatch* self);
void sdx_graphics_nine_patch_free (SdxGraphicsNinePatch* self);
SdxGraphicsNinePatch* sdx_graphics_nine_patch_retain (SdxGraphicsNinePatch* self);
#define _sdx_graphics_nine_patch_release0(var) ((var == NULL) ? NULL : (var = (sdx_graphics_nine_patch_release (var), NULL)))

typedef enum  {
	SDX_UI_COMPONENT_KIND_Window,
	SDX_UI_COMPONENT_KIND_Label,
	SDX_UI_COMPONENT_KIND_Button
} SdxUiComponentKind;

typedef void (*SdxUiComponentComponentOnMouseClick) (SdxUiComponent* c, gint x, gint y, void* user_data);
typedef void (*SdxUiComponentComponentOnMouseEnter) (SdxUiComponent* c, gint x, gint y, void* user_data);
typedef void (*SdxUiComponentComponentOnMouseLeave) (SdxUiComponent* c, gint x, gint y, void* user_data);
typedef void (*SdxUiComponentComponentStart) (void* user_data);
struct _SdxUiComponent {
	gint ref_count;
	SdxUiComponentKind kind;
	SdxUiComponent* parent;
	SDL_Window* root;
	SDL_Rect* bounds;
	SDL_Color* foreground;
	SDL_Color* background;
	SdxFont* font;
	gboolean visible;
	gboolean enabled;
	gboolean valid;
	gchar* name;
	gboolean focus;
	gboolean selected;
	gchar* text;
	GList* controls;
	SdxGraphicsSprite** image;
	gint image_length1;
	gint index;
	SdxInputProcessor* handler;
	SdxUiComponentComponentOnMouseClick OnMouseClick;
	gpointer OnMouseClick_target;
	GDestroyNotify OnMouseClick_target_destroy_notify;
	SdxUiComponentComponentOnMouseEnter OnMouseEnter;
	gpointer OnMouseEnter_target;
	GDestroyNotify OnMouseEnter_target_destroy_notify;
	SdxUiComponentComponentOnMouseLeave OnMouseLeave;
	gpointer OnMouseLeave_target;
	GDestroyNotify OnMouseLeave_target_destroy_notify;
	SdxUiComponentComponentStart Start;
	gpointer Start_target;
	GDestroyNotify Start_target_destroy_notify;
	SdxUiComponentComponentStart Stop;
	gpointer Stop_target;
	GDestroyNotify Stop_target_destroy_notify;
};

typedef void (*SdxUiComponentComponentStop) (void* user_data);
typedef gboolean (*SdxInputProcessorInputProcessorTouchDown) (gint x, gint y, gint pointer, gint button, void* user_data);
typedef gboolean (*SdxInputProcessorInputProcessorTouchUp) (gint x, gint y, gint pointer, gint button, void* user_data);
typedef gboolean (*SdxInputProcessorInputProcessorTouchDragged) (gint x, gint y, gint pointer, void* user_data);
typedef gboolean (*SdxInputProcessorInputProcessorMouseMoved) (gint x, gint y, void* user_data);
typedef enum  {
	SDX_GRAPHICS_SPRITE_KIND_AnimatedSprite,
	SDX_GRAPHICS_SPRITE_KIND_TextureSprite,
	SDX_GRAPHICS_SPRITE_KIND_AtlasSprite,
	SDX_GRAPHICS_SPRITE_KIND_NineSliceSprite,
	SDX_GRAPHICS_SPRITE_KIND_CompositeSprite,
	SDX_GRAPHICS_SPRITE_KIND_TextSprite
} SdxGraphicsSpriteKind;

struct _SdxMathScale {
	gfloat x;
	gfloat y;
};

struct _SdxGraphicsSprite {
	gint ref_count;
	Class* klass;
	SdxGraphicsSpriteKind kind;
	gint id;
	SDL_Texture* texture;
	gint width;
	gint height;
	gint x;
	gint y;
	gint index;
	gint frame;
	gdouble angle;
	SdxMathScale scale;
	SDL_Color color;
	SDL_RendererFlip flip;
	SDL_Point center;
	gboolean centered;
	gint layer;
	gchar* path;
};


extern SdxUiWindow* sdx_ui;
extern SdxGraphicsTextureAtlas* sdx_atlas;

void sdx_ui_component_free (SdxUiComponent* self);
GType sdx_ui_component_kind_get_type (void) G_GNUC_CONST;
void sdx_font_free (SdxFont* self);
void sdx_graphics_sprite_free (SdxGraphicsSprite* self);
void sdx_input_processor_free (SdxInputProcessor* self);
static void sdx_ui_component_instance_init (SdxUiComponent * self);
// symtbl.2 sdx_ui_component
void sdx_ui_component_release (SdxUiComponent* self);
void sdx_ui_component_free (SdxUiComponent* self);
SdxUiComponent* sdx_ui_component_retain (SdxUiComponent* self);
static void _sdx_ui_component_release0_ (gpointer var);
// symtbl.2 g_list_free__sdx_ui_component
static void _g_list_free__sdx_ui_component_release0_ (GList* self);
static void _sdx_ui_component_on_mouse_click_lambda37_ (SdxUiComponent* c, gint x, gint y);
static void __sdx_ui_component_on_mouse_click_lambda37__sdx_ui_component_component_on_mouse_click (SdxUiComponent* c, gint x, gint y, gpointer self);
static void _sdx_ui_component_on_mouse_enter_lambda38_ (SdxUiComponent* c, gint x, gint y);
static void __sdx_ui_component_on_mouse_enter_lambda38__sdx_ui_component_component_on_mouse_enter (SdxUiComponent* c, gint x, gint y, gpointer self);
static void _sdx_ui_component_on_mouse_leave_lambda39_ (SdxUiComponent* c, gint x, gint y);
static void __sdx_ui_component_on_mouse_leave_lambda39__sdx_ui_component_component_on_mouse_leave (SdxUiComponent* c, gint x, gint y, gpointer self);
static void _sdx_ui_component_start_lambda40_ (void);
static void __sdx_ui_component_start_lambda40__sdx_ui_component_component_start (gpointer self);
static void _sdx_ui_component_stop_lambda41_ (void);
static void __sdx_ui_component_stop_lambda41__sdx_ui_component_component_start (gpointer self);
SdxUiComponent* sdx_ui_component_retain (SdxUiComponent* self);
void sdx_ui_component_release (SdxUiComponent* self);
void sdx_ui_component_free (SdxUiComponent* self);
// symtbl.3 SdxUiComponent / sdx_ui_component
SdxUiComponent* sdx_ui_component_retain (SdxUiComponent* self);
void sdx_ui_component_release (SdxUiComponent* self);
SdxUiComponent* sdx_ui_component_new (gint x, gint y, gint w, gint h);
static SDL_Rect* _sdl_video_rect_dup (SDL_Rect* self);
void sdx_ui_component_Render (SdxUiComponent* self, gint x, gint y);
void sdx_graphics_sprite_Render (SdxGraphicsSprite* self, gint x, gint y, SDL_Rect* clip);
void sdx_ui_component_Add (SdxUiComponent* self, SdxUiComponent* child);
void sdx_ui_component_Remove (SdxUiComponent* self, SdxUiComponent* child);
SdxUiComponent* sdx_ui_component_SetPos (SdxUiComponent* self, gint x, gint y);
gint sdx_ui_component_get_width (SdxUiComponent* self);
gint sdx_ui_component_get_height (SdxUiComponent* self);
// symtbl.3 SdxUiWindow / sdx_ui_window
SdxUiWindow* sdx_ui_window_retain (SdxUiWindow* self);
void sdx_ui_window_release (SdxUiWindow* self);
SdxUiWindow* sdx_ui_window_new (gint w, gint h, const gchar* name);
SDL_Window* sdx_Initialize (gint width, gint height, const gchar* name);
// symtbl.3 SdxUiButton / sdx_ui_button
SdxUiButton* sdx_ui_button_retain (SdxUiButton* self);
void sdx_ui_button_release (SdxUiButton* self);
SdxUiButton* sdx_ui_button_new (void);
void sdx_ui_button_EventStart (SdxUiButton* self);
static void _sdx_ui_button_EventStart_sdx_ui_component_component_start (gpointer self);
void sdx_ui_button_EventStop (SdxUiButton* self);
static void _sdx_ui_button_EventStop_sdx_ui_component_component_start (gpointer self);
void sdx_RemoveInputProcessor (SdxInputProcessor* processor);
void sdx_AddInputProcessor (SdxInputProcessor* processor);
// symtbl.3 SdxInputProcessor / sdx_input_processor
SdxInputProcessor* sdx_input_processor_retain (SdxInputProcessor* self);
void sdx_input_processor_release (SdxInputProcessor* self);
SdxInputProcessor* sdx_input_processor_new (void);
SdxInputProcessor* sdx_input_processor_SetTouchDown (SdxInputProcessor* self, SdxInputProcessorInputProcessorTouchDown touchDown, void* touchDown_target);
static gboolean __lambda42_ (SdxUiButton* self, gint x, gint y, gint pointer, gint button);
gboolean sdx_ui_button_Test (SdxUiButton* self, gint x, gint y);
static gboolean ___lambda42__sdx_input_processor_input_processor_touch_down (gint x, gint y, gint pointer, gint button, gpointer self);
SdxInputProcessor* sdx_input_processor_SetTouchUp (SdxInputProcessor* self, SdxInputProcessorInputProcessorTouchUp touchUp, void* touchUp_target);
static gboolean __lambda43_ (SdxUiButton* self, gint x, gint y, gint pointer, gint button);
static gboolean ___lambda43__sdx_input_processor_input_processor_touch_up (gint x, gint y, gint pointer, gint button, gpointer self);
SdxInputProcessor* sdx_input_processor_SetTouchDragged (SdxInputProcessor* self, SdxInputProcessorInputProcessorTouchDragged touchDragged, void* touchDragged_target);
static gboolean __lambda44_ (SdxUiButton* self, gint x, gint y, gint pointer);
static gboolean ___lambda44__sdx_input_processor_input_processor_touch_dragged (gint x, gint y, gint pointer, gpointer self);
SdxInputProcessor* sdx_input_processor_SetMouseMoved (SdxInputProcessor* self, SdxInputProcessorInputProcessorMouseMoved mouseMoved, void* mouseMoved_target);
static gboolean __lambda45_ (SdxUiButton* self, gint x, gint y);
static gboolean ___lambda45__sdx_input_processor_input_processor_mouse_moved (gint x, gint y, gpointer self);
// symtbl.3 SdxUiButtonText / sdx_ui_button_text
SdxUiButtonText* sdx_ui_button_text_retain (SdxUiButtonText* self);
void sdx_ui_button_text_release (SdxUiButtonText* self);
SdxUiButtonText* sdx_ui_button_text_new (const gchar* text, SdxFont* font, SDL_Color fg, SDL_Color* bg);
static SDL_Color* _sdl_video_color_dup (SDL_Color* self);
// symtbl.3 SdxGraphicsSpriteTextSprite / sdx_graphics_sprite_text_sprite
SdxGraphicsSpriteTextSprite* sdx_graphics_sprite_text_sprite_new (const gchar* text, SdxFont* font, SDL_Color fg, SDL_Color* bg);
SdxGraphicsSprite* sdx_graphics_sprite_SetCentered (SdxGraphicsSprite* self, gboolean value);
void class_free (Class* self);
GType sdx_graphics_sprite_kind_get_type (void) G_GNUC_CONST;
GType sdx_math_scale_get_type (void) G_GNUC_CONST;
SdxMathScale* sdx_math_scale_dup (const SdxMathScale* self);
void sdx_math_scale_free (SdxMathScale* self);
// symtbl.3 SdxUiButtonNinePatch / sdx_ui_button_nine_patch
SdxUiButtonNinePatch* sdx_ui_button_nine_patch_new (const gchar* text, SdxFont* font, SDL_Color fg, const gchar* img, const gchar* alt);
void sdx_graphics_texture_atlas_free (SdxGraphicsTextureAtlas* self);
void sdx_graphics_nine_patch_free (SdxGraphicsNinePatch* self);
SdxGraphicsNinePatch* sdx_graphics_texture_atlas_CreatePatch (SdxGraphicsTextureAtlas* self, const gchar* name);
// symtbl.3 SdxGraphicsSpriteUISprite / sdx_graphics_sprite_ui_sprite
SdxGraphicsSpriteUISprite* sdx_graphics_sprite_ui_sprite_new (SdxGraphicsNinePatch* patch, const gchar* text, SdxFont* font, SDL_Color color, gint width, gint height);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


GType sdx_ui_component_kind_get_type (void) {
	static volatile gsize sdx_ui_component_kind_type_id__volatile = 0;
	if (g_once_init_enter (&sdx_ui_component_kind_type_id__volatile)) {
		static const GEnumValue values[] = {{SDX_UI_COMPONENT_KIND_Window, "SDX_UI_COMPONENT_KIND_Window", "window"}, {SDX_UI_COMPONENT_KIND_Label, "SDX_UI_COMPONENT_KIND_Label", "label"}, {SDX_UI_COMPONENT_KIND_Button, "SDX_UI_COMPONENT_KIND_Button", "button"}, {0, NULL, NULL}};
		GType sdx_ui_component_kind_type_id;
		sdx_ui_component_kind_type_id = g_enum_register_static ("SdxUiComponentKind", values);
		g_once_init_leave (&sdx_ui_component_kind_type_id__volatile, sdx_ui_component_kind_type_id);
	}
	return sdx_ui_component_kind_type_id__volatile;
}


// symtbl.2 sdx_ui_component
void sdx_ui_component_release (SdxUiComponent* self);
void sdx_ui_component_free (SdxUiComponent* self);
SdxUiComponent* sdx_ui_component_retain (SdxUiComponent* self);
static void _sdx_ui_component_release0_ (gpointer var) {
	(var == NULL) ? NULL : (var = (sdx_ui_component_release (var), NULL));
}


// symtbl.2 g_list_free__sdx_ui_component
static void _g_list_free__sdx_ui_component_release0_ (GList* self) {
	g_list_foreach (self, (GFunc) _sdx_ui_component_release0_, NULL);
	g_list_free (self);
}


static void _sdx_ui_component_on_mouse_click_lambda37_ (SdxUiComponent* c, gint x, gint y) {
	g_return_if_fail (c != NULL);
}


static void __sdx_ui_component_on_mouse_click_lambda37__sdx_ui_component_component_on_mouse_click (SdxUiComponent* c, gint x, gint y, gpointer self) {
	_sdx_ui_component_on_mouse_click_lambda37_ (c, x, y);
}


static void _sdx_ui_component_on_mouse_enter_lambda38_ (SdxUiComponent* c, gint x, gint y) {
	g_return_if_fail (c != NULL);
}


static void __sdx_ui_component_on_mouse_enter_lambda38__sdx_ui_component_component_on_mouse_enter (SdxUiComponent* c, gint x, gint y, gpointer self) {
	_sdx_ui_component_on_mouse_enter_lambda38_ (c, x, y);
}


static void _sdx_ui_component_on_mouse_leave_lambda39_ (SdxUiComponent* c, gint x, gint y) {
	g_return_if_fail (c != NULL);
}


static void __sdx_ui_component_on_mouse_leave_lambda39__sdx_ui_component_component_on_mouse_leave (SdxUiComponent* c, gint x, gint y, gpointer self) {
	_sdx_ui_component_on_mouse_leave_lambda39_ (c, x, y);
}


static void _sdx_ui_component_start_lambda40_ (void) {
}


static void __sdx_ui_component_start_lambda40__sdx_ui_component_component_start (gpointer self) {
	_sdx_ui_component_start_lambda40_ ();
}


static void _sdx_ui_component_stop_lambda41_ (void) {
}


static void __sdx_ui_component_stop_lambda41__sdx_ui_component_component_start (gpointer self) {
	_sdx_ui_component_stop_lambda41_ ();
}


SdxUiComponent* sdx_ui_component_retain (SdxUiComponent* self) {
	SdxUiComponent* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_atomic_int_add ((volatile gint *) (&self->ref_count), 1);
	result = self;
	return result;
}


void sdx_ui_component_release (SdxUiComponent* self) {
	gboolean _tmp0_ = FALSE;
	g_return_if_fail (self != NULL);
	_tmp0_ = g_atomic_int_dec_and_test ((volatile gint *) (&self->ref_count));
	if (_tmp0_) {
		sdx_ui_component_free (self);
	}
}


static SDL_Rect* _sdl_video_rect_dup (SDL_Rect* self) {
	SDL_Rect* dup;
	dup = g_new0 (SDL_Rect, 1);
	memcpy (dup, self, sizeof (SDL_Rect));
	return dup;
}


static gpointer __sdl_video_rect_dup0 (gpointer self) {
	return self ? _sdl_video_rect_dup (self) : NULL;
}


// symtbl.3 SdxUiComponent / sdx_ui_component
SdxUiComponent* sdx_ui_component_retain (SdxUiComponent* self);
void sdx_ui_component_release (SdxUiComponent* self);
SdxUiComponent* sdx_ui_component_new (gint x, gint y, gint w, gint h) {
	SdxUiComponent* self;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	gint _tmp3_ = 0;
	SDL_Rect _tmp4_ = {0};
	SDL_Rect* _tmp5_ = NULL;
	self = g_slice_new0 (SdxUiComponent);
	sdx_ui_component_instance_init (self);
	_tmp0_ = x;
	_tmp1_ = y;
	_tmp2_ = w;
	_tmp3_ = h;
	_tmp4_.x = _tmp0_;
	_tmp4_.y = _tmp1_;
	_tmp4_.w = (guint) _tmp2_;
	_tmp4_.h = (guint) _tmp3_;
	_tmp5_ = __sdl_video_rect_dup0 (&_tmp4_);
	_g_free0 (self->bounds);
	self->bounds = _tmp5_;
	self->visible = FALSE;
	self->focus = TRUE;
	__g_list_free__sdx_ui_component_release0_0 (self->controls);
	self->controls = NULL;
	return self;
}


static gpointer _sdx_ui_component_retain0 (gpointer self) {
	return self ? sdx_ui_component_retain (self) : NULL;
}


void sdx_ui_component_Render (SdxUiComponent* self, gint x, gint y) {
	gint _tmp0_ = 0;
	SDL_Rect* _tmp1_ = NULL;
	gint _tmp2_ = 0;
	gint _tmp3_ = 0;
	SDL_Rect* _tmp4_ = NULL;
	gint _tmp5_ = 0;
	gint _tmp6_ = 0;
	SdxGraphicsSprite** _tmp7_ = NULL;
	gint _tmp7__length1 = 0;
	GList* _tmp13_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = x;
	_tmp1_ = self->bounds;
	_tmp2_ = (*_tmp1_).x;
	x = _tmp0_ + _tmp2_;
	_tmp3_ = y;
	_tmp4_ = self->bounds;
	_tmp5_ = (*_tmp4_).y;
	y = _tmp3_ + _tmp5_;
	_tmp6_ = self->index;
	_tmp7_ = self->image;
	_tmp7__length1 = self->image_length1;
	if (_tmp6_ < _tmp7__length1) {
		SdxGraphicsSprite** _tmp8_ = NULL;
		gint _tmp8__length1 = 0;
		gint _tmp9_ = 0;
		SdxGraphicsSprite* _tmp10_ = NULL;
		gint _tmp11_ = 0;
		gint _tmp12_ = 0;
		_tmp8_ = self->image;
		_tmp8__length1 = self->image_length1;
		_tmp9_ = self->index;
		_tmp10_ = _tmp8_[_tmp9_];
		_tmp11_ = x;
		_tmp12_ = y;
		sdx_graphics_sprite_Render (_tmp10_, _tmp11_, _tmp12_, NULL);
	}
	_tmp13_ = self->controls;
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
		child_collection = _tmp13_;
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
			SdxUiComponent* _tmp14_ = NULL;
			SdxUiComponent* child = NULL;
			_tmp14_ = _sdx_ui_component_retain0 ((SdxUiComponent*) child_it->data);
			child = _tmp14_;
			{
				SdxUiComponent* _tmp15_ = NULL;
				gint _tmp16_ = 0;
				gint _tmp17_ = 0;
				_tmp15_ = child;
				_tmp16_ = x;
				_tmp17_ = y;
				sdx_ui_component_Render (_tmp15_, _tmp16_, _tmp17_);
				_sdx_ui_component_release0 (child);
			}
		}
	}
}


void sdx_ui_component_Add (SdxUiComponent* self, SdxUiComponent* child) {
	SdxUiComponent* _tmp0_ = NULL;
	SdxUiComponent* _tmp1_ = NULL;
	SdxUiComponent* _tmp2_ = NULL;
	SdxUiComponent* _tmp3_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (child != NULL);
	_tmp0_ = child;
	_tmp1_ = _sdx_ui_component_retain0 (_tmp0_);
	self->controls = g_list_append (self->controls, _tmp1_);
	_tmp2_ = child;
	_tmp3_ = _sdx_ui_component_retain0 (self);
	_sdx_ui_component_release0 (_tmp2_->parent);
	_tmp2_->parent = _tmp3_;
}


void sdx_ui_component_Remove (SdxUiComponent* self, SdxUiComponent* child) {
	SdxUiComponent* _tmp0_ = NULL;
	SdxUiComponent* _tmp1_ = NULL;
	SdxUiComponentComponentStart _tmp2_ = NULL;
	void* _tmp2__target = NULL;
	SdxUiComponent* _tmp3_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (child != NULL);
	_tmp0_ = child;
	self->controls = g_list_remove (self->controls, _tmp0_);
	_tmp1_ = child;
	_tmp2_ = _tmp1_->Stop;
	_tmp2__target = _tmp1_->Stop_target;
	_tmp2_ (_tmp2__target);
	_tmp3_ = child;
	_sdx_ui_component_release0 (_tmp3_->parent);
	_tmp3_->parent = NULL;
}


SdxUiComponent* sdx_ui_component_SetPos (SdxUiComponent* self, gint x, gint y) {
	SdxUiComponent* result = NULL;
	SDL_Rect* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	SDL_Rect* _tmp2_ = NULL;
	gint _tmp3_ = 0;
	SdxUiComponent* _tmp4_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->bounds;
	_tmp1_ = x;
	(*_tmp0_).x = _tmp1_;
	_tmp2_ = self->bounds;
	_tmp3_ = y;
	(*_tmp2_).y = _tmp3_;
	_tmp4_ = _sdx_ui_component_retain0 (self);
	result = _tmp4_;
	return result;
}


gint sdx_ui_component_get_width (SdxUiComponent* self) {
	gint result;
	SDL_Rect* _tmp0_ = NULL;
	guint _tmp1_ = 0U;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->bounds;
	_tmp1_ = (*_tmp0_).w;
	result = (gint) _tmp1_;
	return result;
}


gint sdx_ui_component_get_height (SdxUiComponent* self) {
	gint result;
	SDL_Rect* _tmp0_ = NULL;
	guint _tmp1_ = 0U;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->bounds;
	_tmp1_ = (*_tmp0_).h;
	result = (gint) _tmp1_;
	return result;
}


static void sdx_ui_component_instance_init (SdxUiComponent * self) {
	self->ref_count = 1;
	self->OnMouseClick = __sdx_ui_component_on_mouse_click_lambda37__sdx_ui_component_component_on_mouse_click;
	self->OnMouseClick_target = self;
	self->OnMouseClick_target_destroy_notify = NULL;
	self->OnMouseEnter = __sdx_ui_component_on_mouse_enter_lambda38__sdx_ui_component_component_on_mouse_enter;
	self->OnMouseEnter_target = self;
	self->OnMouseEnter_target_destroy_notify = NULL;
	self->OnMouseLeave = __sdx_ui_component_on_mouse_leave_lambda39__sdx_ui_component_component_on_mouse_leave;
	self->OnMouseLeave_target = self;
	self->OnMouseLeave_target_destroy_notify = NULL;
	self->Start = __sdx_ui_component_start_lambda40__sdx_ui_component_component_start;
	self->Start_target = self;
	self->Start_target_destroy_notify = NULL;
	self->Stop = __sdx_ui_component_stop_lambda41__sdx_ui_component_component_start;
	self->Stop_target = self;
	self->Stop_target_destroy_notify = NULL;
}


void sdx_ui_component_free (SdxUiComponent* self) {
	_sdx_ui_component_release0 (self->parent);
	_SDL_DestroyWindow0 (self->root);
	_g_free0 (self->bounds);
	_g_free0 (self->foreground);
	_g_free0 (self->background);
	_sdx_font_release0 (self->font);
	_g_free0 (self->name);
	_g_free0 (self->text);
	__g_list_free__sdx_ui_component_release0_0 (self->controls);
	self->image = (_vala_array_free (self->image, self->image_length1, (GDestroyNotify) sdx_graphics_sprite_release), NULL);
	_sdx_input_processor_release0 (self->handler);
	(self->OnMouseClick_target_destroy_notify == NULL) ? NULL : (self->OnMouseClick_target_destroy_notify (self->OnMouseClick_target), NULL);
	self->OnMouseClick = NULL;
	self->OnMouseClick_target = NULL;
	self->OnMouseClick_target_destroy_notify = NULL;
	(self->OnMouseEnter_target_destroy_notify == NULL) ? NULL : (self->OnMouseEnter_target_destroy_notify (self->OnMouseEnter_target), NULL);
	self->OnMouseEnter = NULL;
	self->OnMouseEnter_target = NULL;
	self->OnMouseEnter_target_destroy_notify = NULL;
	(self->OnMouseLeave_target_destroy_notify == NULL) ? NULL : (self->OnMouseLeave_target_destroy_notify (self->OnMouseLeave_target), NULL);
	self->OnMouseLeave = NULL;
	self->OnMouseLeave_target = NULL;
	self->OnMouseLeave_target_destroy_notify = NULL;
	(self->Start_target_destroy_notify == NULL) ? NULL : (self->Start_target_destroy_notify (self->Start_target), NULL);
	self->Start = NULL;
	self->Start_target = NULL;
	self->Start_target_destroy_notify = NULL;
	(self->Stop_target_destroy_notify == NULL) ? NULL : (self->Stop_target_destroy_notify (self->Stop_target), NULL);
	self->Stop = NULL;
	self->Stop_target = NULL;
	self->Stop_target_destroy_notify = NULL;
	g_slice_free (SdxUiComponent, self);
}


// symtbl.3 SdxUiWindow / sdx_ui_window
SdxUiWindow* sdx_ui_window_retain (SdxUiWindow* self);
void sdx_ui_window_release (SdxUiWindow* self);
SdxUiWindow* sdx_ui_window_new (gint w, gint h, const gchar* name) {
	SdxUiWindow* self;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gint _tmp4_ = 0;
	gint _tmp5_ = 0;
	const gchar* _tmp6_ = NULL;
	SDL_Window* _tmp7_ = NULL;
	SdxUiWindow* _tmp8_ = NULL;
	g_return_val_if_fail (name != NULL, NULL);
	_tmp0_ = w;
	_tmp1_ = h;
	self = (SdxUiWindow*) sdx_ui_component_new (0, 0, _tmp0_, _tmp1_);
	((SdxUiComponent*) self)->kind = SDX_UI_COMPONENT_KIND_Window;
	_tmp2_ = name;
	_tmp3_ = g_strdup (_tmp2_);
	_g_free0 (((SdxUiComponent*) self)->name);
	((SdxUiComponent*) self)->name = _tmp3_;
	_tmp4_ = w;
	_tmp5_ = h;
	_tmp6_ = name;
	_tmp7_ = sdx_Initialize (_tmp4_, _tmp5_, _tmp6_);
	_SDL_DestroyWindow0 (((SdxUiComponent*) self)->root);
	((SdxUiComponent*) self)->root = _tmp7_;
	_tmp8_ = _sdx_ui_component_retain0 (self);
	_sdx_ui_component_release0 (sdx_ui);
	sdx_ui = _tmp8_;
	return self;
}


static void _sdx_ui_button_EventStart_sdx_ui_component_component_start (gpointer self) {
	sdx_ui_button_EventStart ((SdxUiButton*) self);
}


static void _sdx_ui_button_EventStop_sdx_ui_component_component_start (gpointer self) {
	sdx_ui_button_EventStop ((SdxUiButton*) self);
}


// symtbl.3 SdxUiButton / sdx_ui_button
SdxUiButton* sdx_ui_button_retain (SdxUiButton* self);
void sdx_ui_button_release (SdxUiButton* self);
SdxUiButton* sdx_ui_button_new (void) {
	SdxUiButton* self;
	SdxUiComponentComponentStart _tmp0_ = NULL;
	void* _tmp0__target = NULL;
	self = (SdxUiButton*) sdx_ui_component_new (0, 0, 0, 0);
	((SdxUiComponent*) self)->kind = SDX_UI_COMPONENT_KIND_Button;
	(((SdxUiComponent*) self)->Start_target_destroy_notify == NULL) ? NULL : (((SdxUiComponent*) self)->Start_target_destroy_notify (((SdxUiComponent*) self)->Start_target), NULL);
	((SdxUiComponent*) self)->Start = NULL;
	((SdxUiComponent*) self)->Start_target = NULL;
	((SdxUiComponent*) self)->Start_target_destroy_notify = NULL;
	((SdxUiComponent*) self)->Start = _sdx_ui_button_EventStart_sdx_ui_component_component_start;
	((SdxUiComponent*) self)->Start_target = sdx_ui_component_retain (self);
	((SdxUiComponent*) self)->Start_target_destroy_notify = sdx_ui_component_release;
	(((SdxUiComponent*) self)->Stop_target_destroy_notify == NULL) ? NULL : (((SdxUiComponent*) self)->Stop_target_destroy_notify (((SdxUiComponent*) self)->Stop_target), NULL);
	((SdxUiComponent*) self)->Stop = NULL;
	((SdxUiComponent*) self)->Stop_target = NULL;
	((SdxUiComponent*) self)->Stop_target_destroy_notify = NULL;
	((SdxUiComponent*) self)->Stop = _sdx_ui_button_EventStop_sdx_ui_component_component_start;
	((SdxUiComponent*) self)->Stop_target = sdx_ui_component_retain (self);
	((SdxUiComponent*) self)->Stop_target_destroy_notify = sdx_ui_component_release;
	_tmp0_ = ((SdxUiComponent*) self)->Start;
	_tmp0__target = ((SdxUiComponent*) self)->Start_target;
	_tmp0_ (_tmp0__target);
	return self;
}


void sdx_ui_button_EventStop (SdxUiButton* self) {
	SdxInputProcessor* _tmp0_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((SdxUiComponent*) self)->handler;
	sdx_RemoveInputProcessor (_tmp0_);
	_sdx_input_processor_release0 (((SdxUiComponent*) self)->handler);
	((SdxUiComponent*) self)->handler = NULL;
}


static gboolean __lambda42_ (SdxUiButton* self, gint x, gint y, gint pointer, gint button) {
	gboolean result = FALSE;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	gboolean _tmp2_ = FALSE;
	_tmp0_ = x;
	_tmp1_ = y;
	_tmp2_ = sdx_ui_button_Test (self, _tmp0_, _tmp1_);
	if (_tmp2_) {
		SdxUiComponentComponentOnMouseClick _tmp3_ = NULL;
		void* _tmp3__target = NULL;
		gint _tmp4_ = 0;
		gint _tmp5_ = 0;
		_tmp3_ = ((SdxUiComponent*) self)->OnMouseClick;
		_tmp3__target = ((SdxUiComponent*) self)->OnMouseClick_target;
		_tmp4_ = x;
		_tmp5_ = y;
		_tmp3_ ((SdxUiComponent*) self, _tmp4_, _tmp5_, _tmp3__target);
		result = TRUE;
		return result;
	}
	result = FALSE;
	return result;
}


static gboolean ___lambda42__sdx_input_processor_input_processor_touch_down (gint x, gint y, gint pointer, gint button, gpointer self) {
	gboolean result;
	result = __lambda42_ ((SdxUiButton*) self, x, y, pointer, button);
	return result;
}


static gboolean __lambda43_ (SdxUiButton* self, gint x, gint y, gint pointer, gint button) {
	gboolean result = FALSE;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	gboolean _tmp2_ = FALSE;
	_tmp0_ = x;
	_tmp1_ = y;
	_tmp2_ = sdx_ui_button_Test (self, _tmp0_, _tmp1_);
	result = _tmp2_;
	return result;
}


static gboolean ___lambda43__sdx_input_processor_input_processor_touch_up (gint x, gint y, gint pointer, gint button, gpointer self) {
	gboolean result;
	result = __lambda43_ ((SdxUiButton*) self, x, y, pointer, button);
	return result;
}


static gboolean __lambda44_ (SdxUiButton* self, gint x, gint y, gint pointer) {
	gboolean result = FALSE;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	gboolean _tmp2_ = FALSE;
	_tmp0_ = x;
	_tmp1_ = y;
	_tmp2_ = sdx_ui_button_Test (self, _tmp0_, _tmp1_);
	result = _tmp2_;
	return result;
}


static gboolean ___lambda44__sdx_input_processor_input_processor_touch_dragged (gint x, gint y, gint pointer, gpointer self) {
	gboolean result;
	result = __lambda44_ ((SdxUiButton*) self, x, y, pointer);
	return result;
}


static gboolean __lambda45_ (SdxUiButton* self, gint x, gint y) {
	gboolean result = FALSE;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	gboolean _tmp2_ = FALSE;
	_tmp0_ = x;
	_tmp1_ = y;
	_tmp2_ = sdx_ui_button_Test (self, _tmp0_, _tmp1_);
	result = _tmp2_;
	return result;
}


static gboolean ___lambda45__sdx_input_processor_input_processor_mouse_moved (gint x, gint y, gpointer self) {
	gboolean result;
	result = __lambda45_ ((SdxUiButton*) self, x, y);
	return result;
}


void sdx_ui_button_EventStart (SdxUiButton* self) {
	SdxInputProcessor* _tmp0_ = NULL;
	SdxInputProcessor* _tmp1_ = NULL;
	SdxInputProcessor* _tmp2_ = NULL;
	SdxInputProcessor* _tmp3_ = NULL;
	SdxInputProcessor* _tmp4_ = NULL;
	SdxInputProcessor* _tmp5_ = NULL;
	SdxInputProcessor* _tmp6_ = NULL;
	SdxInputProcessor* _tmp7_ = NULL;
	SdxInputProcessor* _tmp8_ = NULL;
	SdxInputProcessor* _tmp9_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = sdx_input_processor_new ();
	_tmp1_ = _tmp0_;
	_tmp2_ = sdx_input_processor_SetTouchDown (_tmp1_, ___lambda42__sdx_input_processor_input_processor_touch_down, self);
	_tmp3_ = _tmp2_;
	_tmp4_ = sdx_input_processor_SetTouchUp (_tmp3_, ___lambda43__sdx_input_processor_input_processor_touch_up, self);
	_tmp5_ = _tmp4_;
	_tmp6_ = sdx_input_processor_SetTouchDragged (_tmp5_, ___lambda44__sdx_input_processor_input_processor_touch_dragged, self);
	_tmp7_ = _tmp6_;
	_tmp8_ = sdx_input_processor_SetMouseMoved (_tmp7_, ___lambda45__sdx_input_processor_input_processor_mouse_moved, self);
	_sdx_input_processor_release0 (((SdxUiComponent*) self)->handler);
	((SdxUiComponent*) self)->handler = _tmp8_;
	_tmp9_ = ((SdxUiComponent*) self)->handler;
	sdx_AddInputProcessor (_tmp9_);
	_sdx_input_processor_release0 (_tmp7_);
	_sdx_input_processor_release0 (_tmp5_);
	_sdx_input_processor_release0 (_tmp3_);
	_sdx_input_processor_release0 (_tmp1_);
}


gboolean sdx_ui_button_Test (SdxUiButton* self, gint x, gint y) {
	gboolean result = FALSE;
	gboolean test = FALSE;
	SDL_Rect* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	SDL_Rect _tmp3_ = {0};
	gboolean _tmp4_ = FALSE;
	gboolean _tmp5_ = FALSE;
	gboolean _tmp6_ = FALSE;
	gboolean _tmp8_ = FALSE;
	gboolean _tmp9_ = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = ((SdxUiComponent*) self)->bounds;
	_tmp1_ = x;
	_tmp2_ = y;
	_tmp3_.x = _tmp1_;
	_tmp3_.y = _tmp2_;
	_tmp3_.w = (guint) 1;
	_tmp3_.h = (guint) 1;
	_tmp4_ = SDL_HasIntersection (_tmp0_, &_tmp3_);
	test = _tmp4_;
	_tmp6_ = test;
	if (_tmp6_) {
		gint _tmp7_ = 0;
		_tmp7_ = ((SdxUiComponent*) self)->index;
		_tmp5_ = _tmp7_ == 0;
	} else {
		_tmp5_ = FALSE;
	}
	if (_tmp5_) {
		((SdxUiComponent*) self)->index = 1;
	}
	_tmp9_ = test;
	if (!_tmp9_) {
		gint _tmp10_ = 0;
		_tmp10_ = ((SdxUiComponent*) self)->index;
		_tmp8_ = _tmp10_ == 1;
	} else {
		_tmp8_ = FALSE;
	}
	if (_tmp8_) {
		((SdxUiComponent*) self)->index = 0;
	}
	result = test;
	return result;
}


static gpointer _sdx_font_retain0 (gpointer self) {
	return self ? sdx_font_retain (self) : NULL;
}


static SDL_Color* _sdl_video_color_dup (SDL_Color* self) {
	SDL_Color* dup;
	dup = g_new0 (SDL_Color, 1);
	memcpy (dup, self, sizeof (SDL_Color));
	return dup;
}


static gpointer __sdl_video_color_dup0 (gpointer self) {
	return self ? _sdl_video_color_dup (self) : NULL;
}


// symtbl.3 SdxUiButtonText / sdx_ui_button_text
SdxUiButtonText* sdx_ui_button_text_retain (SdxUiButtonText* self);
void sdx_ui_button_text_release (SdxUiButtonText* self);
SdxUiButtonText* sdx_ui_button_text_new (const gchar* text, SdxFont* font, SDL_Color fg, SDL_Color* bg) {
	SdxUiButtonText* self;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	SdxFont* _tmp2_ = NULL;
	SdxFont* _tmp3_ = NULL;
	SDL_Color _tmp4_ = {0};
	SDL_Color* _tmp5_ = NULL;
	SDL_Color* _tmp6_ = NULL;
	SDL_Color* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	SdxFont* _tmp9_ = NULL;
	SDL_Color* _tmp10_ = NULL;
	SDL_Color* _tmp11_ = NULL;
	SdxGraphicsSpriteTextSprite* _tmp12_ = NULL;
	SdxGraphicsSprite** _tmp13_ = NULL;
	SdxGraphicsSprite** _tmp14_ = NULL;
	gint _tmp14__length1 = 0;
	SdxGraphicsSprite* _tmp15_ = NULL;
	SdxGraphicsSprite* _tmp16_ = NULL;
	SdxGraphicsSprite* _tmp17_ = NULL;
	SDL_Rect* _tmp18_ = NULL;
	SdxGraphicsSprite** _tmp19_ = NULL;
	gint _tmp19__length1 = 0;
	SdxGraphicsSprite* _tmp20_ = NULL;
	gint _tmp21_ = 0;
	SDL_Rect* _tmp22_ = NULL;
	SdxGraphicsSprite** _tmp23_ = NULL;
	gint _tmp23__length1 = 0;
	SdxGraphicsSprite* _tmp24_ = NULL;
	gint _tmp25_ = 0;
	g_return_val_if_fail (text != NULL, NULL);
	g_return_val_if_fail (font != NULL, NULL);
	self = (SdxUiButtonText*) sdx_ui_button_new ();
	_tmp0_ = text;
	_tmp1_ = g_strdup (_tmp0_);
	_g_free0 (((SdxUiComponent*) self)->text);
	((SdxUiComponent*) self)->text = _tmp1_;
	_tmp2_ = font;
	_tmp3_ = _sdx_font_retain0 (_tmp2_);
	_sdx_font_release0 (((SdxUiComponent*) self)->font);
	((SdxUiComponent*) self)->font = _tmp3_;
	_tmp4_ = fg;
	_tmp5_ = __sdl_video_color_dup0 (&_tmp4_);
	_g_free0 (((SdxUiComponent*) self)->foreground);
	((SdxUiComponent*) self)->foreground = _tmp5_;
	_tmp6_ = bg;
	_tmp7_ = __sdl_video_color_dup0 (_tmp6_);
	_g_free0 (((SdxUiComponent*) self)->background);
	((SdxUiComponent*) self)->background = _tmp7_;
	((SdxUiComponent*) self)->index = 0;
	_tmp8_ = ((SdxUiComponent*) self)->text;
	_tmp9_ = ((SdxUiComponent*) self)->font;
	_tmp10_ = ((SdxUiComponent*) self)->foreground;
	_tmp11_ = ((SdxUiComponent*) self)->background;
	_tmp12_ = sdx_graphics_sprite_text_sprite_new (_tmp8_, _tmp9_, *_tmp10_, _tmp11_);
	_tmp13_ = g_new0 (SdxGraphicsSprite*, 1 + 1);
	_tmp13_[0] = (SdxGraphicsSprite*) _tmp12_;
	((SdxUiComponent*) self)->image = (_vala_array_free (((SdxUiComponent*) self)->image, ((SdxUiComponent*) self)->image_length1, (GDestroyNotify) sdx_graphics_sprite_release), NULL);
	((SdxUiComponent*) self)->image = _tmp13_;
	((SdxUiComponent*) self)->image_length1 = 1;
	_tmp14_ = ((SdxUiComponent*) self)->image;
	_tmp14__length1 = ((SdxUiComponent*) self)->image_length1;
	_tmp15_ = _tmp14_[0];
	_tmp16_ = sdx_graphics_sprite_SetCentered (_tmp15_, FALSE);
	_tmp17_ = _tmp16_;
	_sdx_graphics_sprite_release0 (_tmp17_);
	_tmp18_ = ((SdxUiComponent*) self)->bounds;
	_tmp19_ = ((SdxUiComponent*) self)->image;
	_tmp19__length1 = ((SdxUiComponent*) self)->image_length1;
	_tmp20_ = _tmp19_[0];
	_tmp21_ = _tmp20_->width;
	(*_tmp18_).w = (guint) _tmp21_;
	_tmp22_ = ((SdxUiComponent*) self)->bounds;
	_tmp23_ = ((SdxUiComponent*) self)->image;
	_tmp23__length1 = ((SdxUiComponent*) self)->image_length1;
	_tmp24_ = _tmp23_[0];
	_tmp25_ = _tmp24_->height;
	(*_tmp22_).h = (guint) _tmp25_;
	return self;
}


// symtbl.3 SdxUiButtonNinePatch / sdx_ui_button_nine_patch
SdxUiButtonNinePatch* sdx_ui_button_nine_patch_new (const gchar* text, SdxFont* font, SDL_Color fg, const gchar* img, const gchar* alt) {
	SdxUiButtonNinePatch* self;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	SdxFont* _tmp2_ = NULL;
	SdxFont* _tmp3_ = NULL;
	SDL_Color _tmp4_ = {0};
	SDL_Color* _tmp5_ = NULL;
	SdxGraphicsTextureAtlas* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	SdxGraphicsNinePatch* _tmp8_ = NULL;
	SdxGraphicsNinePatch* _tmp9_ = NULL;
	const gchar* _tmp10_ = NULL;
	SdxFont* _tmp11_ = NULL;
	SDL_Color* _tmp12_ = NULL;
	SdxGraphicsSpriteUISprite* _tmp13_ = NULL;
	SdxGraphicsTextureAtlas* _tmp14_ = NULL;
	const gchar* _tmp15_ = NULL;
	SdxGraphicsNinePatch* _tmp16_ = NULL;
	SdxGraphicsNinePatch* _tmp17_ = NULL;
	const gchar* _tmp18_ = NULL;
	SdxFont* _tmp19_ = NULL;
	SDL_Color* _tmp20_ = NULL;
	SdxGraphicsSpriteUISprite* _tmp21_ = NULL;
	SdxGraphicsSprite** _tmp22_ = NULL;
	SdxGraphicsSprite** _tmp23_ = NULL;
	gint _tmp23__length1 = 0;
	SdxGraphicsSprite* _tmp24_ = NULL;
	SdxGraphicsSprite* _tmp25_ = NULL;
	SdxGraphicsSprite* _tmp26_ = NULL;
	SdxGraphicsSprite** _tmp27_ = NULL;
	gint _tmp27__length1 = 0;
	SdxGraphicsSprite* _tmp28_ = NULL;
	SdxGraphicsSprite* _tmp29_ = NULL;
	SdxGraphicsSprite* _tmp30_ = NULL;
	SDL_Rect* _tmp31_ = NULL;
	SdxGraphicsSprite** _tmp32_ = NULL;
	gint _tmp32__length1 = 0;
	SdxGraphicsSprite* _tmp33_ = NULL;
	gint _tmp34_ = 0;
	SDL_Rect* _tmp35_ = NULL;
	SdxGraphicsSprite** _tmp36_ = NULL;
	gint _tmp36__length1 = 0;
	SdxGraphicsSprite* _tmp37_ = NULL;
	gint _tmp38_ = 0;
	g_return_val_if_fail (text != NULL, NULL);
	g_return_val_if_fail (font != NULL, NULL);
	g_return_val_if_fail (img != NULL, NULL);
	g_return_val_if_fail (alt != NULL, NULL);
	self = (SdxUiButtonNinePatch*) sdx_ui_button_new ();
	_tmp0_ = text;
	_tmp1_ = g_strdup (_tmp0_);
	_g_free0 (((SdxUiComponent*) self)->text);
	((SdxUiComponent*) self)->text = _tmp1_;
	_tmp2_ = font;
	_tmp3_ = _sdx_font_retain0 (_tmp2_);
	_sdx_font_release0 (((SdxUiComponent*) self)->font);
	((SdxUiComponent*) self)->font = _tmp3_;
	_tmp4_ = fg;
	_tmp5_ = __sdl_video_color_dup0 (&_tmp4_);
	_g_free0 (((SdxUiComponent*) self)->foreground);
	((SdxUiComponent*) self)->foreground = _tmp5_;
	((SdxUiComponent*) self)->index = 0;
	_tmp6_ = sdx_atlas;
	_tmp7_ = img;
	_tmp8_ = sdx_graphics_texture_atlas_CreatePatch (_tmp6_, _tmp7_);
	_tmp9_ = _tmp8_;
	_tmp10_ = ((SdxUiComponent*) self)->text;
	_tmp11_ = ((SdxUiComponent*) self)->font;
	_tmp12_ = ((SdxUiComponent*) self)->foreground;
	_tmp13_ = sdx_graphics_sprite_ui_sprite_new (_tmp9_, _tmp10_, _tmp11_, *_tmp12_, 100, 40);
	_tmp14_ = sdx_atlas;
	_tmp15_ = alt;
	_tmp16_ = sdx_graphics_texture_atlas_CreatePatch (_tmp14_, _tmp15_);
	_tmp17_ = _tmp16_;
	_tmp18_ = ((SdxUiComponent*) self)->text;
	_tmp19_ = ((SdxUiComponent*) self)->font;
	_tmp20_ = ((SdxUiComponent*) self)->foreground;
	_tmp21_ = sdx_graphics_sprite_ui_sprite_new (_tmp17_, _tmp18_, _tmp19_, *_tmp20_, 100, 40);
	_tmp22_ = g_new0 (SdxGraphicsSprite*, 2 + 1);
	_tmp22_[0] = (SdxGraphicsSprite*) _tmp13_;
	_tmp22_[1] = (SdxGraphicsSprite*) _tmp21_;
	((SdxUiComponent*) self)->image = (_vala_array_free (((SdxUiComponent*) self)->image, ((SdxUiComponent*) self)->image_length1, (GDestroyNotify) sdx_graphics_sprite_release), NULL);
	((SdxUiComponent*) self)->image = _tmp22_;
	((SdxUiComponent*) self)->image_length1 = 2;
	_sdx_graphics_nine_patch_release0 (_tmp17_);
	_sdx_graphics_nine_patch_release0 (_tmp9_);
	_tmp23_ = ((SdxUiComponent*) self)->image;
	_tmp23__length1 = ((SdxUiComponent*) self)->image_length1;
	_tmp24_ = _tmp23_[0];
	_tmp25_ = sdx_graphics_sprite_SetCentered (_tmp24_, FALSE);
	_tmp26_ = _tmp25_;
	_sdx_graphics_sprite_release0 (_tmp26_);
	_tmp27_ = ((SdxUiComponent*) self)->image;
	_tmp27__length1 = ((SdxUiComponent*) self)->image_length1;
	_tmp28_ = _tmp27_[1];
	_tmp29_ = sdx_graphics_sprite_SetCentered (_tmp28_, FALSE);
	_tmp30_ = _tmp29_;
	_sdx_graphics_sprite_release0 (_tmp30_);
	_tmp31_ = ((SdxUiComponent*) self)->bounds;
	_tmp32_ = ((SdxUiComponent*) self)->image;
	_tmp32__length1 = ((SdxUiComponent*) self)->image_length1;
	_tmp33_ = _tmp32_[0];
	_tmp34_ = _tmp33_->width;
	(*_tmp31_).w = (guint) _tmp34_;
	_tmp35_ = ((SdxUiComponent*) self)->bounds;
	_tmp36_ = ((SdxUiComponent*) self)->image;
	_tmp36__length1 = ((SdxUiComponent*) self)->image_length1;
	_tmp37_ = _tmp36_[0];
	_tmp38_ = _tmp37_->height;
	(*_tmp35_).h = (guint) _tmp38_;
	return self;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



