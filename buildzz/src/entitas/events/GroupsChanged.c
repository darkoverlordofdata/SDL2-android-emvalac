/** updated by adriac */
/* GroupsChanged.c generated by valac 0.34.9, the Vala compiler
 * generated from GroupsChanged.vala, do not modify */

/* ******************************************************************************
 *# MIT License
 *
 * Copyright (c) 2015-2017 Bruce Davidson &lt;darkoverlordofdata@gmail.com&gt;
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * 'Software'), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */

#include <glib.h>
#include <glib-object.h>

typedef struct _EntitasEventGroupsChanged EntitasEventGroupsChanged;
typedef struct _EntitasEventGroupsChangedListener EntitasEventGroupsChangedListener;
typedef struct _EntitasWorld EntitasWorld;
typedef struct _EntitasGroup EntitasGroup;
#define _g_ptr_array_unref0(var) ((var == NULL) ? NULL : (var = (g_ptr_array_unref (var), NULL)))
// symtbl.1 entitas_world
void entitas_world_release (EntitasWorld* self);
void entitas_world_free (EntitasWorld* self);
EntitasWorld* entitas_world_retain (EntitasWorld* self);
#define _entitas_world_release0(var) ((var == NULL) ? NULL : (var = (entitas_world_release (var), NULL)))
// symtbl.1 entitas_group
void entitas_group_release (EntitasGroup* self);
void entitas_group_free (EntitasGroup* self);
EntitasGroup* entitas_group_retain (EntitasGroup* self);
#define _entitas_group_release0(var) ((var == NULL) ? NULL : (var = (entitas_group_release (var), NULL)))
typedef struct _Block7Data Block7Data;
// symtbl.1 entitas_event_groups_changed
void entitas_event_groups_changed_release (EntitasEventGroupsChanged* self);
void entitas_event_groups_changed_free (EntitasEventGroupsChanged* self);
EntitasEventGroupsChanged* entitas_event_groups_changed_retain (EntitasEventGroupsChanged* self);
#define _entitas_event_groups_changed_release0(var) ((var == NULL) ? NULL : (var = (entitas_event_groups_changed_release (var), NULL)))

typedef void (*EntitasEventGroupsChangedHandler) (EntitasWorld* w, EntitasGroup* g, void* user_data);
struct _EntitasEventGroupsChanged {
	gint ref_count;
	GPtrArray* listeners;
	EntitasEventGroupsChangedHandler Dispatch;
	gpointer Dispatch_target;
	GDestroyNotify Dispatch_target_destroy_notify;
};

struct _Block7Data {
	int _ref_count_;
	EntitasEventGroupsChanged* self;
	EntitasWorld* w;
	EntitasGroup* g;
};

struct _EntitasEventGroupsChangedListener {
	gint ref_count;
	EntitasEventGroupsChangedHandler event;
	gpointer event_target;
	GDestroyNotify event_target_destroy_notify;
};



void entitas_event_groups_changed_free (EntitasEventGroupsChanged* self);
void entitas_event_groups_changed_listener_free (EntitasEventGroupsChangedListener* self);
void entitas_world_free (EntitasWorld* self);
void entitas_group_free (EntitasGroup* self);
static void entitas_event_groups_changed_instance_init (EntitasEventGroupsChanged * self);
static void _entitas_event_groups_changed_dispatch_lambda22_ (EntitasWorld* w, EntitasGroup* g);
static void __entitas_event_groups_changed_dispatch_lambda22__entitas_event_groups_changed_handler (EntitasWorld* w, EntitasGroup* g, gpointer self);
EntitasEventGroupsChanged* entitas_event_groups_changed_retain (EntitasEventGroupsChanged* self);
void entitas_event_groups_changed_release (EntitasEventGroupsChanged* self);
void entitas_event_groups_changed_free (EntitasEventGroupsChanged* self);
// symtbl.3 EntitasEventGroupsChanged / entitas_event_groups_changed
EntitasEventGroupsChanged* entitas_event_groups_changed_retain (EntitasEventGroupsChanged* self);
void entitas_event_groups_changed_release (EntitasEventGroupsChanged* self);
EntitasEventGroupsChanged* entitas_event_groups_changed_new (void);
// symtbl.2 entitas_event_groups_changed_listener
void entitas_event_groups_changed_listener_release (EntitasEventGroupsChangedListener* self);
void entitas_event_groups_changed_listener_free (EntitasEventGroupsChangedListener* self);
EntitasEventGroupsChangedListener* entitas_event_groups_changed_listener_retain (EntitasEventGroupsChangedListener* self);
static void _entitas_event_groups_changed_listener_release0_ (gpointer var);
static void __lambda23_ (EntitasEventGroupsChanged* self, EntitasWorld* w, EntitasGroup* g);
static Block7Data* block7_data_ref (Block7Data* _data7_);
static void block7_data_unref (void * _userdata_);
static void __lambda24_ (Block7Data* _data7_, EntitasEventGroupsChangedListener* listener);
static void ___lambda24__gfunc (gconstpointer data, gpointer self);
static void ___lambda23__entitas_event_groups_changed_handler (EntitasWorld* w, EntitasGroup* g, gpointer self);
void entitas_event_groups_changed_Add (EntitasEventGroupsChanged* self, EntitasEventGroupsChangedHandler event, void* event_target);
// symtbl.3 EntitasEventGroupsChangedListener / entitas_event_groups_changed_listener
EntitasEventGroupsChangedListener* entitas_event_groups_changed_listener_retain (EntitasEventGroupsChangedListener* self);
void entitas_event_groups_changed_listener_release (EntitasEventGroupsChangedListener* self);
EntitasEventGroupsChangedListener* entitas_event_groups_changed_listener_new (EntitasEventGroupsChangedHandler event, void* event_target);
void entitas_event_groups_changed_Remove (EntitasEventGroupsChanged* self, EntitasEventGroupsChangedHandler event, void* event_target);
void entitas_event_groups_changed_Clear (EntitasEventGroupsChanged* self);
static void entitas_event_groups_changed_listener_instance_init (EntitasEventGroupsChangedListener * self);
EntitasEventGroupsChangedListener* entitas_event_groups_changed_listener_retain (EntitasEventGroupsChangedListener* self);
void entitas_event_groups_changed_listener_release (EntitasEventGroupsChangedListener* self);
void entitas_event_groups_changed_listener_free (EntitasEventGroupsChangedListener* self);


static void _entitas_event_groups_changed_dispatch_lambda22_ (EntitasWorld* w, EntitasGroup* g) {
	g_return_if_fail (w != NULL);
	g_return_if_fail (g != NULL);
}


static void __entitas_event_groups_changed_dispatch_lambda22__entitas_event_groups_changed_handler (EntitasWorld* w, EntitasGroup* g, gpointer self) {
	_entitas_event_groups_changed_dispatch_lambda22_ (w, g);
}


EntitasEventGroupsChanged* entitas_event_groups_changed_retain (EntitasEventGroupsChanged* self) {
	EntitasEventGroupsChanged* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_atomic_int_add ((volatile gint *) (&self->ref_count), 1);
	result = self;
	return result;
}


void entitas_event_groups_changed_release (EntitasEventGroupsChanged* self) {
	gboolean _tmp0_ = FALSE;
	g_return_if_fail (self != NULL);
	_tmp0_ = g_atomic_int_dec_and_test ((volatile gint *) (&self->ref_count));
	if (_tmp0_) {
		entitas_event_groups_changed_free (self);
	}
}


// symtbl.2 entitas_event_groups_changed_listener
void entitas_event_groups_changed_listener_release (EntitasEventGroupsChangedListener* self);
void entitas_event_groups_changed_listener_free (EntitasEventGroupsChangedListener* self);
EntitasEventGroupsChangedListener* entitas_event_groups_changed_listener_retain (EntitasEventGroupsChangedListener* self);
static void _entitas_event_groups_changed_listener_release0_ (gpointer var) {
	(var == NULL) ? NULL : (var = (entitas_event_groups_changed_listener_release (var), NULL));
}


static gpointer _entitas_world_retain0 (gpointer self) {
	return self ? entitas_world_retain (self) : NULL;
}


static gpointer _entitas_group_retain0 (gpointer self) {
	return self ? entitas_group_retain (self) : NULL;
}


static Block7Data* block7_data_ref (Block7Data* _data7_) {
	g_atomic_int_inc (&_data7_->_ref_count_);
	return _data7_;
}


static void block7_data_unref (void * _userdata_) {
	Block7Data* _data7_;
	_data7_ = (Block7Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data7_->_ref_count_)) {
		EntitasEventGroupsChanged* self;
		self = _data7_->self;
		_entitas_world_release0 (_data7_->w);
		_entitas_group_release0 (_data7_->g);
		_entitas_event_groups_changed_release0 (self);
		g_slice_free (Block7Data, _data7_);
	}
}


static void __lambda24_ (Block7Data* _data7_, EntitasEventGroupsChangedListener* listener) {
	EntitasEventGroupsChanged* self;
	EntitasEventGroupsChangedListener* _tmp0_ = NULL;
	EntitasEventGroupsChangedHandler _tmp1_ = NULL;
	void* _tmp1__target = NULL;
	EntitasWorld* _tmp2_ = NULL;
	EntitasGroup* _tmp3_ = NULL;
	self = _data7_->self;
	g_return_if_fail (listener != NULL);
	_tmp0_ = listener;
	_tmp1_ = _tmp0_->event;
	_tmp1__target = _tmp0_->event_target;
	_tmp2_ = _data7_->w;
	_tmp3_ = _data7_->g;
	_tmp1_ (_tmp2_, _tmp3_, _tmp1__target);
}


static void ___lambda24__gfunc (gconstpointer data, gpointer self) {
	__lambda24_ (self, (EntitasEventGroupsChangedListener*) data);
}


static void __lambda23_ (EntitasEventGroupsChanged* self, EntitasWorld* w, EntitasGroup* g) {
	Block7Data* _data7_;
	EntitasWorld* _tmp0_ = NULL;
	EntitasWorld* _tmp1_ = NULL;
	EntitasGroup* _tmp2_ = NULL;
	EntitasGroup* _tmp3_ = NULL;
	GPtrArray* _tmp4_ = NULL;
	g_return_if_fail (w != NULL);
	g_return_if_fail (g != NULL);
	_data7_ = g_slice_new0 (Block7Data);
	_data7_->_ref_count_ = 1;
	_data7_->self = entitas_event_groups_changed_retain (self);
	_tmp0_ = w;
	_tmp1_ = _entitas_world_retain0 (_tmp0_);
	_entitas_world_release0 (_data7_->w);
	_data7_->w = _tmp1_;
	_tmp2_ = g;
	_tmp3_ = _entitas_group_retain0 (_tmp2_);
	_entitas_group_release0 (_data7_->g);
	_data7_->g = _tmp3_;
	_tmp4_ = self->listeners;
	g_ptr_array_foreach (_tmp4_, ___lambda24__gfunc, _data7_);
	block7_data_unref (_data7_);
	_data7_ = NULL;
}


static void ___lambda23__entitas_event_groups_changed_handler (EntitasWorld* w, EntitasGroup* g, gpointer self) {
	__lambda23_ ((EntitasEventGroupsChanged*) self, w, g);
}


// symtbl.3 EntitasEventGroupsChanged / entitas_event_groups_changed
EntitasEventGroupsChanged* entitas_event_groups_changed_retain (EntitasEventGroupsChanged* self);
void entitas_event_groups_changed_release (EntitasEventGroupsChanged* self);
EntitasEventGroupsChanged* entitas_event_groups_changed_new (void) {
	EntitasEventGroupsChanged* self;
	GPtrArray* _tmp0_ = NULL;
	self = g_slice_new0 (EntitasEventGroupsChanged);
	entitas_event_groups_changed_instance_init (self);
	_tmp0_ = g_ptr_array_new_full ((guint) 0, _entitas_event_groups_changed_listener_release0_);
	_g_ptr_array_unref0 (self->listeners);
	self->listeners = _tmp0_;
	(self->Dispatch_target_destroy_notify == NULL) ? NULL : (self->Dispatch_target_destroy_notify (self->Dispatch_target), NULL);
	self->Dispatch = NULL;
	self->Dispatch_target = NULL;
	self->Dispatch_target_destroy_notify = NULL;
	self->Dispatch = ___lambda23__entitas_event_groups_changed_handler;
	self->Dispatch_target = entitas_event_groups_changed_retain (self);
	self->Dispatch_target_destroy_notify = entitas_event_groups_changed_release;
	return self;
}


void entitas_event_groups_changed_Add (EntitasEventGroupsChanged* self, EntitasEventGroupsChangedHandler event, void* event_target) {
	GPtrArray* _tmp0_ = NULL;
	EntitasEventGroupsChangedHandler _tmp1_ = NULL;
	void* _tmp1__target = NULL;
	EntitasEventGroupsChangedListener* _tmp2_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->listeners;
	_tmp1_ = event;
	_tmp1__target = event_target;
	_tmp2_ = entitas_event_groups_changed_listener_new (_tmp1_, _tmp1__target);
	g_ptr_array_add (_tmp0_, _tmp2_);
}


static gint g_ptr_array_get_length (GPtrArray* self) {
	gint result;
	guint _tmp0_ = 0U;
	g_return_val_if_fail (self != NULL, 0);
	_tmp0_ = self->len;
	result = (gint) _tmp0_;
	return result;
}


static void g_ptr_array_set_length (GPtrArray* self, gint value) {
	gint _tmp0_ = 0;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	g_ptr_array_set_size (self, _tmp0_);
}


void entitas_event_groups_changed_Remove (EntitasEventGroupsChanged* self, EntitasEventGroupsChangedHandler event, void* event_target) {
	g_return_if_fail (self != NULL);
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp0_ = FALSE;
			_tmp0_ = TRUE;
			while (TRUE) {
				gint _tmp2_ = 0;
				GPtrArray* _tmp3_ = NULL;
				gint _tmp4_ = 0;
				gint _tmp5_ = 0;
				GPtrArray* _tmp6_ = NULL;
				gint _tmp7_ = 0;
				gconstpointer _tmp8_ = NULL;
				EntitasEventGroupsChangedHandler _tmp9_ = NULL;
				void* _tmp9__target = NULL;
				EntitasEventGroupsChangedHandler _tmp10_ = NULL;
				void* _tmp10__target = NULL;
				if (!_tmp0_) {
					gint _tmp1_ = 0;
					_tmp1_ = i;
					i = _tmp1_ + 1;
				}
				_tmp0_ = FALSE;
				_tmp2_ = i;
				_tmp3_ = self->listeners;
				_tmp4_ = g_ptr_array_get_length (_tmp3_);
				_tmp5_ = _tmp4_;
				if (!(_tmp2_ < _tmp5_)) {
					break;
				}
				_tmp6_ = self->listeners;
				_tmp7_ = i;
				_tmp8_ = g_ptr_array_index (_tmp6_, (guint) _tmp7_);
				_tmp9_ = ((EntitasEventGroupsChangedListener*) _tmp8_)->event;
				_tmp9__target = ((EntitasEventGroupsChangedListener*) _tmp8_)->event_target;
				_tmp10_ = event;
				_tmp10__target = event_target;
				if (_tmp9_ == _tmp10_) {
					GPtrArray* _tmp11_ = NULL;
					gint _tmp12_ = 0;
					_tmp11_ = self->listeners;
					_tmp12_ = i;
					g_ptr_array_remove_index_fast (_tmp11_, (guint) _tmp12_);
					return;
				}
			}
		}
	}
}


void entitas_event_groups_changed_Clear (EntitasEventGroupsChanged* self) {
	GPtrArray* _tmp0_ = NULL;
	GPtrArray* _tmp1_ = NULL;
	gint _tmp2_ = 0;
	gint _tmp3_ = 0;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->listeners;
	_tmp1_ = self->listeners;
	_tmp2_ = g_ptr_array_get_length (_tmp1_);
	_tmp3_ = _tmp2_;
	g_ptr_array_remove_range (_tmp0_, (guint) 0, (guint) _tmp3_);
}


EntitasEventGroupsChangedListener* entitas_event_groups_changed_listener_retain (EntitasEventGroupsChangedListener* self) {
	EntitasEventGroupsChangedListener* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_atomic_int_add ((volatile gint *) (&self->ref_count), 1);
	result = self;
	return result;
}


void entitas_event_groups_changed_listener_release (EntitasEventGroupsChangedListener* self) {
	gboolean _tmp0_ = FALSE;
	g_return_if_fail (self != NULL);
	_tmp0_ = g_atomic_int_dec_and_test ((volatile gint *) (&self->ref_count));
	if (_tmp0_) {
		entitas_event_groups_changed_listener_free (self);
	}
}


// symtbl.3 EntitasEventGroupsChangedListener / entitas_event_groups_changed_listener
EntitasEventGroupsChangedListener* entitas_event_groups_changed_listener_retain (EntitasEventGroupsChangedListener* self);
void entitas_event_groups_changed_listener_release (EntitasEventGroupsChangedListener* self);
EntitasEventGroupsChangedListener* entitas_event_groups_changed_listener_new (EntitasEventGroupsChangedHandler event, void* event_target) {
	EntitasEventGroupsChangedListener* self;
	EntitasEventGroupsChangedHandler _tmp0_ = NULL;
	void* _tmp0__target = NULL;
	self = g_slice_new0 (EntitasEventGroupsChangedListener);
	entitas_event_groups_changed_listener_instance_init (self);
	_tmp0_ = event;
	_tmp0__target = event_target;
	(self->event_target_destroy_notify == NULL) ? NULL : (self->event_target_destroy_notify (self->event_target), NULL);
	self->event = NULL;
	self->event_target = NULL;
	self->event_target_destroy_notify = NULL;
	self->event = _tmp0_;
	self->event_target = _tmp0__target;
	self->event_target_destroy_notify = NULL;
	return self;
}


static void entitas_event_groups_changed_listener_instance_init (EntitasEventGroupsChangedListener * self) {
	self->ref_count = 1;
}


void entitas_event_groups_changed_listener_free (EntitasEventGroupsChangedListener* self) {
	(self->event_target_destroy_notify == NULL) ? NULL : (self->event_target_destroy_notify (self->event_target), NULL);
	self->event = NULL;
	self->event_target = NULL;
	self->event_target_destroy_notify = NULL;
	g_slice_free (EntitasEventGroupsChangedListener, self);
}


static void entitas_event_groups_changed_instance_init (EntitasEventGroupsChanged * self) {
	self->ref_count = 1;
	self->Dispatch = __entitas_event_groups_changed_dispatch_lambda22__entitas_event_groups_changed_handler;
	self->Dispatch_target = self;
	self->Dispatch_target_destroy_notify = NULL;
}


void entitas_event_groups_changed_free (EntitasEventGroupsChanged* self) {
	_g_ptr_array_unref0 (self->listeners);
	(self->Dispatch_target_destroy_notify == NULL) ? NULL : (self->Dispatch_target_destroy_notify (self->Dispatch_target), NULL);
	self->Dispatch = NULL;
	self->Dispatch_target = NULL;
	self->Dispatch_target_destroy_notify = NULL;
	g_slice_free (EntitasEventGroupsChanged, self);
}



